<!DOCTYPE html>
<html lang="ru" class="js skrollr skrollr-desktop">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style class="vjs-styles-defaults">
    .video-js {
      width: 300px;
      height: 150px;
    }

    .vjs-fluid {
      padding-top: 56.25%
    }
  </style>

  <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <base href=".">
  <title>Title</title>
  <meta name="description" content="Описание">
  <meta property="og:title" content="">

  <style>
    @font-face {
      font-family: 'Cera Pro';
      src: url('../files/fonts/CeraPro-Regular.woff2') format('woff2'),
      url('../files/fonts/CeraPro-Regular.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Cera Pro';
      src: url('../files/fonts/CeraPro-Bold.woff2') format('woff2'),
      url('../files/fonts/CeraPro-Bold.woff') format('woff');
      font-weight: bold;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Cera Pro';
      src: url('../files/fonts/CeraPro-Medium.woff2') format('woff2'),
      url('../files/fonts/CeraPro-Medium.woff') format('woff');
      font-weight: 500;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Cera Pro';
      src: url('../files/fonts/CeraPro-Light.woff2') format('woff2'),
      url('../files/fonts/CeraPro-Light.woff') format('woff');
      font-weight: 300;
      font-style: normal;
      font-display: swap;
    }
  </style>

  <link rel="stylesheet" href="../files/normalize.css">
  <link rel="stylesheet" href="../files/swiper.min.css">
  <link href="../files/video-js.min.css" rel="stylesheet">
  <link href="../files/index.css" rel="stylesheet">
  <link rel="stylesheet" href="../files/css_styles.css">
  <link rel="stylesheet" href="../files/header.css">
  <link rel="stylesheet" href="../files/aos.css">
  <link rel="stylesheet" href="../files/pnotify.custom.css">
  <link rel="stylesheet" href="../files/css_common.css">
  <link rel="stylesheet" href="modal_cancel_files/style.css">

  <script src="../files/jquery-3.4.1.min.js"></script>



  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));
      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function (entries, observer) {
          entries.forEach(function (entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.src = lazyImage.dataset.src;
              lazyImage.srcset = lazyImage.dataset.srcset;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });
        lazyImages.forEach(function (lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to event handlers here
      }
    });
    document.addEventListener("DOMContentLoaded", function () {
      var lazyVideos = [].slice.call(document.querySelectorAll("video.lazy"));
      if ("IntersectionObserver" in window) {
        var lazyVideoObserver = new IntersectionObserver(function (entries, observer) {
          entries.forEach(function (video) {
            if (video.isIntersecting) {
              for (var source in video.target.children) {
                var videoSource = video.target.children[source];
                if (typeof videoSource.tagName === "string" && videoSource.tagName === "SOURCE") {
                  videoSource.src = videoSource.dataset.src;
                }
              }
              video.target.load();
              video.target.classList.remove("lazy");
              lazyVideoObserver.unobserve(video.target);
            }
          });
        });
        lazyVideos.forEach(function (lazyVideo) {
          lazyVideoObserver.observe(lazyVideo);
        });
      }
    });
  </script>



  <link rel="stylesheet" href="../files/index(1).css" type="text/css">
  <link rel="stylesheet" href="../files/default(1).css" type="text/css">

  <style>
    .SmartCaptcha-Overlay {
      position: fixed;
      z-index: 9999999;
      top: -10000px;
      left: -10000px;

      width: 100%;
      width: var(--smart-captcha-doc-width, 100%);
      height: 100%;
      height: var(--smart-captcha-doc-height, 100%);
      margin: 0;
      padding: 0;

      background: rgba(0, 0, 0, 0.4);
    }

    .SmartCaptcha-Overlay.SmartCaptcha-Overlay_visible {
      position: fixed;
      top: 0;
      left: 0;
    }

    .SmartCaptcha-Overlay.SmartCaptcha-Overlay_no_background {
      background: none;
    }

    .SmartCaptcha-Overlay .SmartCaptcha-Spin {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;

      margin: auto;

      transform: translateY(-50%);
    }
  </style>
  <style>.SmartCaptcha-Spin {
    display: none;
    visibility: hidden;

    box-sizing: border-box;

    border: 2px solid transparent;
    border-radius: 50%;
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0));
  }

  .SmartCaptcha-Spin::after {
    visibility: hidden;

    content: '\00A0';
  }

  .SmartCaptcha-Overlay_visible.SmartCaptcha-Overlay_show_spinner .SmartCaptcha-Spin {
    display: inline-block;
    visibility: visible;

    width: 50px;
    height: 50px;

    border-top-color: #5282FF;
    border-left-color: #5282FF;

    animation: islands-spin 1s .21s infinite linear;

    backface-visibility: hidden;
  }

  .SmartCaptcha-Overlay_visible.SmartCaptcha-Overlay_show_spinner .SmartCaptcha-Spin {
    border-top-color: var(--spin-view-default-border-color, #5282FF);
    border-left-color: var(--spin-view-default-border-color, #5282FF);
  }

  @keyframes islands-spin {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }
  </style>
  <style>.smart-captcha {
    min-width: 300px;
    height: 102px;
  }

  .smart-captcha_invisible {
    height: 0;
  }
  </style>

  <!--    <style>-->
  <!--        html, body {-->
  <!--            overflow: unset !important;-->
  <!--        }-->
  <!--    </style>-->

</head>

<body class="noscroll">


<header class="header">
  <div class="header__content">
    <div class="swiper-container swiper-container-initialized swiper-container-horizontal swiper-container-autoheight" data-site-carousel="header">
      <div class="swiper-wrapper" style="transition-duration: 0ms; transform: translate3d(-4956px, 0px, 0px); height: 16px;"><div class="swiper-slide swiper-slide-duplicate swiper-slide-duplicate-active" data-swiper-slide-index="2" style="width: 1652px;">
        <span class="header__slide">Для обеспечения быстрой работы сайта, пожалуйста, отключите VPN</span>
      </div>
        <div class="swiper-slide swiper-slide-duplicate-next" data-swiper-slide-index="0" style="width: 1652px;">
          <a href="products/" class="header__slide">Бьюти-сон дома и на даче: -30% на второе изделие в корзине*</a>
        </div>
        <div class="swiper-slide swiper-slide-prev" data-swiper-slide-index="1" style="width: 1652px;">
          <span class="header__slide">Покупайте сейчас и оплачивайте частями в течение нескольких месяцев</span>
        </div>
        <div class="swiper-slide swiper-slide-active" data-swiper-slide-index="2" style="width: 1652px;">
          <span class="header__slide">Для обеспечения быстрой работы сайта, пожалуйста, отключите VPN</span>
        </div>
        <div class="swiper-slide swiper-slide-duplicate swiper-slide-next" data-swiper-slide-index="0" style="width: 1652px;">
          <a href="products/" class="header__slide">Бьюти-сон дома и на даче: -30% на второе изделие в корзине*</a>
        </div></div>
      <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>
    <div class="header__middle">
      <div class="header__middle-col">
        <a href="tel:88002224624" class="header__phone">
          <img loading="lazy" width="18" height="18" src="../files/phone.svg" alt="Телефон горячей линии">
          <span class="header__phone-text">8 (800) 222 46 24</span>
        </a>
        <button class="header__nav-switch" data-site-switch="#main-nav" data-site-noscroll="1" data-site-backdrop="1">
          <span class="header__line"></span>
          <span class="header__line"></span>
          <span class="header__line"></span>
        </button>
      </div>
      <div class="header__middle-col">
        <a class="header__logo-link">
          <img loading="lazy" width="356" height="45" class="header__logo" src="../files/logo.svg" alt="Beauty Sleep">
        </a>
      </div>
      <div class="header__middle-col">
        <div class="header__link-group">
          <a href="products/" class="header__shop-link">
            <img loading="lazy" src="../files/dot-grid.svg" alt="Онлайн магазин">
            <span class="header__link-text">Купить</span>
          </a>
          <a href="basket" class="header__cart-link ">
    <span class="header__cart-icon-wrap">
        <img loading="lazy" class="header__cart-icon" src="../files/cart_new_icon.svg" width="18" height="18" alt="Shopping cart">
        <span class="header__cart-counter">0</span>
    </span>
            <span class="header__link-text">Корзина</span>
          </a>                </div>
      </div>
    </div>
    <nav class="header__nav-wrap" id="main-nav">
      <div class="header__mobile" style="padding: 1.5rem 0.5rem;">
        <div class="header__mobile-col" style="align-items: flex-start; justify-content: flex-start;">
          <a href="products/" class="header__shop-link">
            <svg width="19" height="20" viewBox="0 0 19 20" fill="none">
              <rect x="0.710938" y="0.830078" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="0.710938" y="8.93066" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="0.710938" y="17.0315" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="8.5" y="0.830078" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="8.5" y="8.93066" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="8.5" y="17.0315" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="16.2891" y="0.830078" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="16.2891" y="8.93066" width="2.65314" height="2.65314" fill="#221D1E"></rect>
              <rect x="16.2891" y="17.0315" width="2.65314" height="2.65314" fill="#221D1E"></rect>
            </svg>
            <span class="header__link-text">Перейти в каталог</span>
          </a>
        </div>
      </div>
      <ul class="header__nav">
        <li class="header__nav-item" data-site-switch="#submenu-0" data-site-hover="(min-width: 1280px)">
          <button class="header__nav-link ">
            <span class="header__nav-link-text">Подушки</span>
            <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
              <defs></defs>
              <g opacity="0.500000">
                <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
              </g>
            </svg>
          </button>
          <div id="submenu-0" class="header__submenu-wrap">
            <ul class="header__submenu header__submenu_special">
              <li class="header__submenu-item">
                <a href="omnia" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/pillow_omnia02.svg" alt="Подушка Omnia">
                  </div>
                  <span class="header__submenu-link-text">Подушка Omnia</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="copper" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/pillow_copper02.svg" alt="Подушка Omnia Copper Blend">
                  </div>
                  <span class="header__submenu-link-text">Подушка Omnia Copper Blend</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="cooling" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/pillow_cooling02.svg" alt="Подушка Omnia Cooling">
                  </div>
                  <span class="header__submenu-link-text">Подушка Omnia Cooling</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="aula" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/pillow_aula02.svg" alt="Подушка Aula">
                  </div>
                  <span class="header__submenu-link-text">Подушка Aula</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="products/?category=437" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/somia_ico02.svg" alt="Подушки для мужчин&nbsp;и&nbsp;детей">
                  </div>
                  <span class="header__submenu-link-text">Подушки для мужчин&nbsp;и&nbsp;детей</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="pillow-for-decollete" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/pillow_decollete02.svg" alt="Подушка для декольте">
                  </div>
                  <span class="header__submenu-link-text">Подушка для декольте</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="products/?category=25" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/pillow_case02.svg" alt="Наволочки">
                  </div>
                  <span class="header__submenu-link-text">Наволочки</span>
                </a>
              </li>
              <li class="header__submenu-item">
                <a href="sleep-wrinkles" class="header__submenu-link">
                  <div class="header__submenu-img-wrap">
                    <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/sleep02.svg" alt="Beauty - сон">
                  </div>
                  <span class="header__submenu-link-text">Beauty - сон</span>
                </a>
              </li>
            </ul>
          </div>
        </li><li class="header__nav-item" data-site-switch="#submenu-1" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Одеяла</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-1" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="weighted-blanket" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/blanket02.svg" alt="Утяжеленное одеяло ">
                </div>
                <span class="header__submenu-link-text">Утяжеленное одеяло </span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="airmesh-blanket" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/blanket002.svg" alt="Одеяло с вентиляционными вставками">
                </div>
                <span class="header__submenu-link-text">Одеяло с вентиляционными вставками</span>
              </a>
            </li>
          </ul>
        </div>
      </li><li class="header__nav-item" data-site-switch="#submenu-2" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Постельное белье</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-2" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="products/?category=481" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/linen02.svg" alt="Постельное белье">
                  <img loading="lazy" width="55" height="55" src="assets/components/beautysleep/img/icons/menu/new.svg" alt="" class="header__submenu-img-new">
                </div>
                <span class="header__submenu-link-text">Постельное белье</span>
              </a>
            </li>
          </ul>
        </div>
      </li><li class="header__nav-item" data-site-switch="#submenu-3" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Одежда и аксессуары из шелка</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-3" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="silk-clothes/?category=all" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/all_products02.svg" alt="Все товары из шелка">
                </div>
                <span class="header__submenu-link-text">Все товары из шелка</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="silk-clothes/?category=263-452-261-512-259-508-536-505-504" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/clothes02.svg" alt="Одежда">
                </div>
                <span class="header__submenu-link-text">Одежда</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="silk-clothes/?category=267-266-268-269-270-280" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/accessories02.svg" alt="Аксессуары">
                </div>
                <span class="header__submenu-link-text">Аксессуары</span>
              </a>
            </li>
          </ul>
        </div>
      </li><li class="header__nav-item" data-site-switch="#submenu-4" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Ароматы для сна</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-4" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="scents-for-sleep" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/aroma02.svg" alt="Ароматы для сна">
                </div>
                <span class="header__submenu-link-text">Ароматы для сна</span>
              </a>
            </li>
          </ul>
        </div>
      </li><li class="header__nav-item" data-site-switch="#submenu-5" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Идеи подарков</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-5" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="products/?category=287" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/gift_card02.svg" alt="Подарочные сертификаты">
                </div>
                <span class="header__submenu-link-text">Подарочные сертификаты</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="products/?category=325" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/gift02.svg" alt="Подарочные наборы">
                </div>
                <span class="header__submenu-link-text">Подарочные наборы</span>
              </a>
            </li>
          </ul>
        </div>
      </li><li class="header__nav-item" data-site-switch="#submenu-6" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Наша наука</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-6" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="our-science" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/expert02.svg" alt="Клинические исследования">
                </div>
                <span class="header__submenu-link-text">Клинические исследования</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="beauty-sleep-university/" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/univer.svg" alt="Beauty - университет">
                </div>
                <span class="header__submenu-link-text">Beauty - университет</span>
              </a>
            </li>
          </ul>
        </div>
      </li><li class="header__nav-item" data-site-switch="#submenu-7" data-site-hover="(min-width: 1280px)">
        <button class="header__nav-link ">
          <span class="header__nav-link-text">Покупателям</span>
          <svg width="13.093750" height="6.941650" viewBox="0 0 13.0938 6.94165" fill="none" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs></defs>
            <g opacity="0.500000">
              <path id="Vector" d="M0.63 0.77L6.54 5.64L12.45 0.77" stroke="#BCBDC2" stroke-opacity="1.000000" stroke-width="2.000000"></path>
            </g>
          </svg>
        </button>
        <div id="submenu-7" class="header__submenu-wrap">
          <ul class="header__submenu ">
            <li class="header__submenu-item">
              <a href="dostavka-i-oplata" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/delivery02.svg" alt="Доставка и оплата">
                </div>
                <span class="header__submenu-link-text">Доставка и оплата</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="garantia-i-vozvrat" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/return02.svg" alt="Гарантия и возврат">
                </div>
                <span class="header__submenu-link-text">Гарантия и возврат</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="for-customers/contacts" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/contacts02.svg" alt="Контакты">
                </div>
                <span class="header__submenu-link-text">Контакты</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="o-kompanii" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/about02.svg" alt="О компании">
                </div>
                <span class="header__submenu-link-text">О компании</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="reviews" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/review02.svg" alt="Отзывы">
                </div>
                <span class="header__submenu-link-text">Отзывы</span>
              </a>
            </li>
            <li class="header__submenu-item">
              <a href="question" class="header__submenu-link">
                <div class="header__submenu-img-wrap">
                  <img loading="lazy" class="header__submenu-img" width="100" height="100" src="content_img/menu_img/new icons/faq02.svg" alt="Вопросы">
                </div>
                <span class="header__submenu-link-text">Вопросы</span>
              </a>
            </li>
          </ul>
        </div>
      </li>            </ul>
      <div class="header__mobile" style="align-items: flex-start;justify-content: flex-start; row-gap: 1rem;">

        <div class="header__mobile-col" style="align-items: flex-start;justify-content: flex-start;">
          <a href="tel:88002224624" class="header__mobile-link">
            <img loading="lazy" width="20" height="20" src="assets/components/beautysleep/img/icons/phone.svg" alt="Hotline phone">
            <span class="header__mobile-link-text">8 (800) 222 46 24</span>
          </a>
        </div>
        <div class="header__mobile-col" style="align-items: flex-start;justify-content: flex-start;">
          <a href="https://api.whatsapp.com/send?phone=+79303844624" class="header__mobile-link">
            <img loading="lazy" width="20" height="20" src="assets/components/beautysleep/img/icons/socials/wa.svg" alt="Whatsapp phone">
            <span class="header__mobile-link-text">+7 (930) 384-46-24</span>
          </a>
        </div>
      </div>
    </nav>
  </div>
</header>


<main role="main">

test

</main>

<!--Scripts-->
<script src="../files/swiper.min.js"></script>
<!--Scripts-->

<div class="pp pp_cancel-data show">
  <div class="pp__bg"></div>
  <div class="pp__content pp__content_cancel-data">

    <div class="pp__close">
      <div class="close__lane"></div>
      <div class="close__lane"></div>
    </div>

    <div class="popup-content popup-content_cancel-data">
      <h4 class="cancel-data-title">
        Отозвать согласие на&nbsp;обработку персональных данных
      </h4>
      <form action="" class="cancel-data-form">
        <div class="input__group">
          <div class="input__container">
            <div class="input-box">
              <label>Имя</label>
              <input type="text" name="name">
            </div>
            <div class="input-box">
              <label>Фамилия</label>
              <input type="email" required="" name="surname">
            </div>
          </div>
          <div class="input__container">
            <div class="input-box">
              <label>Номер телефона</label>
              <input type="text" name="phone">
            </div>
            <div class="input-box">
              <label>Ваш e-mail</label>
              <input type="email" required="" name="email">
            </div>
          </div>
          <div class="input-box">
            <label>Комментарий</label>
            <input required="" type="text" placeholder="" name="comment">
          </div>



          <div class="checkbox">
            <input type="hidden" name="name" value="">
            <input type="checkbox"  required="" name="agree" id="cancel1">
            <label for="cancel1" class="checkbox__text">
              <span>
                Я отзываю свое согласие на обработку персональных данных
              </span>
            </label>
          </div>
          <div class="checkbox">
            <input type="hidden" name="agree" value="">
            <input type="checkbox"  required="" name="name" id="cancel2">
            <label for="cancel2" class="checkbox__text">
              <span>
                Я отзываю согласие на рекламную рассылку
              </span>
            </label>
          </div>

        </div>

        <button type="submit" class="button gradient">
          <span>отозвать</span>
        </button>
      </form>
      <p class="cancel-data-desc">
        В случае отзыва согласия на обработку персональных данных Оператор вправе продолжить
        обработку персональных данных без согласия субъекта персональных данных при наличии
        оснований, указанных в пунктах 2–11 части 1 статьи 6, части 2 статьи 10 и части 2 статьи
        11 Федерального закона № 152-ФЗ «О персональных данных».
      </p>
    </div>
  </div>
</div>

<div class="pp pp__mailing " style="background-color: #cccccc">
  <div class="pp__bg"></div>
  <div class="pp__content pp__content_mailing" style="background-color: #cccccc">

    <div class="pp__close">
      <div class="close__lane"></div>
      <div class="close__lane"></div>
    </div>

    <div class="popup-content">
      <div class="mailing-header">
        <span class="mailing-header__title">ДАРИМ СКИДКУ 5%!</span>
        <span class="mailing-header__subtitle">Подпишитесь, чтобы получить приветственную скидку на первый заказ!</span>
      </div>

      <form method="post" class="mailing-body js-form-mailing-popup">
        <input type="hidden" name="lists[pl2312]" value="set">
        <div class="input-box">
          <label for="pp-email-0">Ваш email</label>
          <input required="" type="text" placeholder="" name="email" data-si-form="" data-si-preset="msdcaddemail" data-si-nosave="" data-si-event="change" id="pp-email-0">
        </div>
        <div class="input-box">
          <div style="height: 102px;" class="smart-captcha" data-sitekey="ysc1_RhnZmoyiqehu9aY6Fe8Tfybb40yBe1MH4ewA2Ag2cfb87bd7" data-testid="smartCaptcha-container"><div style="display: none;"><iframe frameborder="0" src="https://smartcaptcha.yandexcloud.net/backend.636bb879d1085041bc19.html?sitekey=ysc1_RhnZmoyiqehu9aY6Fe8Tfybb40yBe1MH4ewA2Ag2cfb87bd7&amp;theme=light&amp;hl=en&amp;host=beautysleep.ru&amp;href=https%3A%2F%2Fbeautysleep.ru%2F&amp;test=false&amp;webview=false&amp;hideChallengeContainer=false" aria-hidden="true" allow="encrypted-media *;" style="display: block; width: 100%; height: 100%; z-index: 0; transform: translate3d(0px, 0px, 0px);" data-testid="backend-iframe" title="SmartCaptcha backend"></iframe></div><input type="hidden" name="smart-token" data-testid="smart-token"><iframe frameborder="0" src="https://smartcaptcha.yandexcloud.net/checkbox.en.4fdec4f0c66230612adf.html?sitekey=ysc1_RhnZmoyiqehu9aY6Fe8Tfybb40yBe1MH4ewA2Ag2cfb87bd7&amp;theme=light&amp;hl=en&amp;host=beautysleep.ru&amp;href=https%3A%2F%2Fbeautysleep.ru%2F&amp;test=false&amp;webview=false&amp;hideChallengeContainer=false" aria-hidden="false" allow="encrypted-media *;" style="display: block; width: 100%; height: 100%; z-index: 0; transform: translate3d(0px, 0px, 0px);" data-testid="checkbox-iframe" title="SmartCaptcha checkbox widget"></iframe></div>
        </div>
        <button type="submit" class="button gradient"><span>Получить скидку</span></button>
        <div class="politics" style="display: flex;align-items: center;gap: 0 10px;">
          <input type="hidden" required="" name="agree" value="">
          <input type="checkbox" name="agree" value="1">
          <div style="text-align: left">
            Нажимая кнопку, вы соглашаетесь с <a href="privacy-policy" target="_blank">политикой конфиденциальности</a>
          </div>
        </div>

        <input type="hidden" name="af_action" value="c30a10ea5d5b6cdde355c9ff7f8d7538">
      </form>            </div>
  </div>
</div>

<div class="pp pp__video-review" data-title="popup_video" data-pp="video-review">
  <div class="pp__bg"></div>
  <div class="pp__content pp__content_video-review">
    <div class="pp__close">
      <div class="close__lane"></div>
      <div class="close__lane"></div>
    </div>

    <div class="popup-content">
      <iframe id="yotubeplayer" allowfullscreen="" src="https://www.youtube.com/embed/ykrxSO4XVHw?autoplay=1&amp;modestbranding=1&amp;iv_load_policy=3">
      </iframe>
    </div>
  </div>
</div>

<footer class="posthog_view_block" posthog-name="Футер">
  <div class="grid">

    <div class="footer-part">
      <div class="menu-container">
        <div>
          <span>Подушки Beauty sleep</span>
          <ul>

            <li>
              <a href="https://beautysleep.ru/omnia-and-classic">Подушка Omnia &amp; Classic</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/copper">Подушка Omnia Copper Blend</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/aula">Подушка Aula</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/products/?category=437">Подушки для
                мужчин&nbsp;и&nbsp;детей</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/pillow-for-decollete">Подушка для декольте</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/products/?category=25">Наволочки</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/sleep-wrinkles">Beauty - сон</a>
            </li>
          </ul>
        </div>
        <div>
          <span>Одеяла Beauty Sleep</span>
          <ul>

            <li>
              <a href="https://beautysleep.ru/weighted-blanket">Утяжеленное одеяло </a>
            </li>
            <li>
              <a href="https://beautysleep.ru/airmesh-blanket">Одеяло с вентиляционными вставками</a>
            </li>

          </ul>
        </div>
        <div>
          <span>Silk Collection</span>
          <ul>

            <li>
              <a href="https://beautysleep.ru/silk-products/">Халаты</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/silk-products/">Комбинации</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/silk-products/">Топы и шорты</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/silk-products/">Маски для сна</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/silk-products/">Аксессуары для волос</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/silk-products/">Полотенца</a>
            </li>

          </ul>
        </div>
        <div>
          <span>О Beauty Sleep</span>
          <ul>

            <li>
              <a href="https://beautysleep.ru/sleep-wrinkles">Beauty - сон</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/o-kompanii">О компании</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/reviews">Отзывы</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/question">Вопросы</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/about-beauty-sleep/materials-beauty-sleep">Материалы</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/about-beauty-sleep/vacancy/">Вакансии</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/copyright">Авторские права</a>
            </li>
          </ul>
        </div>

        <div>
          <span>Покупателям</span>
          <ul>

            <li>
              <a href="https://beautysleep.ru/dostavka-i-oplata">Доставка и оплата</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/garantia-i-vozvrat">Гарантия и возврат</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/for-customers/contacts">Контакты</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/o-kompanii">О компании</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/reviews">Отзывы</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/question">Вопросы</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/about-beauty-sleep/materials-beauty-sleep">Материалы</a>
            </li>

            <li>
              <a href="https://beautysleep.ru/stocks" class="stock">Акции</a>
            </li>
            <li>
              <a href="https://beautysleep.ru/rules-certificates">Подарочные сертификаты</a>
            </li>
            <li>
              &nbsp;
            </li>
            <li>
              <a href="https://wa.me/message/IYHHAZPLYCA6I1" class="whats-app">
                <img src="../files/footer-whats-app.svg" alt="whats-app">
                whats app
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="email-mailing">
        <h4>ПОДПИШИТЕСЬ НА РАССЫЛКУ</h4>
        <p>Подпишитесь, чтобы узнать больше о здоровом сне, новостях и спецпредложениях Beauty Sleep!</p>

        <form method="post" class="js-form-mailing">
          <input type="hidden" name="lists[pl2312]" value="set">
          <div class="input-box">
            <input name="email" type="email" data-si-form="" data-si-preset="msdcaddemail" data-si-nosave=""
                   data-si-event="change" placeholder="Введите ваш email" required="">
          </div>
          <input type="text" class="n-message" name="n-message" value="">
          <button type="submit"><img src="../files/mailing-submit.svg" alt="submit">
          </button>

          <input type="hidden" name="af_action" value="deb11a841c7ef742abd036ca26bea0c6">
        </form>
        <div class="politics">
          Нажимая кнопку "Подписаться", вы соглашаетесь с <a href="https://beautysleep.ru/privacy-policy"
                                                             target="_blank">политикой конфиденциальности</a>
        </div>
      </div>
    </div>
    <div class="footer-part posthog_view_block" posthog-name="Соц сети">
      <div class="sn-box">
        <div>
          <a href="https://t.me/beauty_sleep_russia" target="_blank" class="social-box__item posthog_click"
             posthog-name="Соц сети - telegram">
            <img src="../files/telegram.svg" alt="telegram">
          </a>
          <a href="https://vk.com/beautysleep_russia" target="_blank" class="social-box__item posthog_click"
             posthog-name="Соц сети - vkontakte">
            <img src="../files/vkon.svg" alt="vkontakte">
          </a>
          <a href="https://www.youtube.com/channel/UCem2kbdspTUse0141WFNSDQ" target="_blank"
             class="social-box__item posthog_click" posthog-name="Соц сети - youtube">
            <img src="../files/you.svg" alt="youtube">
          </a>

          <a href="https://clck.ru/Pv27v" target="_blank" class="social-box__item posthog_click"
             posthog-name="Соц сети - dzen">
            <img src="../files/dzen.svg" alt="dzen">
          </a>

        </div>
        <span>следите за нами в соцсетях!</span>
      </div>
      <a href="https://beautysleep.ru/#up" class="up">
        <span>наверх</span>
        <img src="../files/up.svg" alt="up">
      </a>
    </div>
    <div class="footer-part posthog_view_block" posthog-name="Футер - ссылки">
      <div class="footer-part__info">
        <span>© 2016 — 2024, Beauty Sleep ®</span>
        <div>
          <a href="https://beautysleep.ru/privacy-policy" target="_blank" class="posthog_click"
             posthog-name="Футер - Политика конфиденциальности">Политика конфиденциальности</a>
          <a href="https://beautysleep.ru/terms-of-use" target="_blank" class="posthog_click"
             posthog-name="Футер - Пользовательское соглашение">Пользовательское соглашение</a>
        </div>
      </div>
    </div>
  </div>
</footer>

<div class="shopping-cart js-minicart">
  <div class="shopping-cart-card">

    <div class="shopping-cart__title posthog_view_block" posthog-name="Мини-корзина">
      <h4>Корзина</h4>
      <span class="goods-count">0 продуктов</span>

      <div class="cart-close posthog_click" posthog-name="Закрыть мини-корзину">
        <div class="close__lane"></div>
        <div class="close__lane"></div>
      </div>
    </div>
    <div class="shopping-cart__empty" style="display:block">
      <div class="shopping-cart__empty_top">
        <img src="../files/empty-cart.svg" alt="cart empty">
        <div>
          <span>В Вашей корзине нет товаров</span>
          <span>Корзина ждет, что ее наполнят. Желаем приятных покупок!</span>
        </div>
      </div>
      <a href="https://beautysleep.ru/products/" class="button gradient"><span>перейти в магазин</span></a>
    </div>


  </div>
  <div class="shopping-cart__footer">
    <div class="shopping-cart__footer_title">
      <span>сумма заказа:</span>
      <span><span class="js-minicart-cost">0</span> р.</span>
    </div>


    <a href="https://beautysleep.ru/products/" class="shopping-cart__footer_next button transparent posthog_click"
       posthog-name="Мини-корзина - продолжить покупки"><span>продолжить покупки</span></a>

    <a href="https://beautysleep.ru/basket" class="shopping-cart__footer_buy button gradient posthog_click"
       posthog-name="Мини-корзина - оформить заказ"><span>оформить заказ</span></a>
  </div>
  <div class="shopping-cart-bg"></div>
  <script>
    $(document).ready(function () {
      otherProductsSwiperSidebar();
    });
  </script>
</div>

<div class="coockies-container">
  <div class="grid">
    <div class="coockies-text">Мы используем файлы cookie, чтобы обеспечить Вам лучший сервис. Продолжая
      пользоваться этим сайтом, Вы соглашаетесь на использование cookie
      и обработку данных в соответствии с Пользовательским соглашением в области обработки и защиты персональных
      данных.
    </div>
    <button class="coockies-ok button transparent">
      <span>хорошо</span>
    </button>
  </div>
</div>




<div class="pp pp__mailing" data-title="popup_thanks" data-pp="email-mailing">
  <div class="pp__bg"></div>
  <div class="pp__content pp__content_mailing">

    <div class="pp__close">
      <div class="close__lane"></div>
      <div class="close__lane"></div>
    </div>

    <div class="popup-content">
      <div class="mailing-header">
        <span class="mailing-header__title">СПАСИБО ЗА ПОДПИСКУ!</span>
      </div>
      <div class="mailing-body">
        <span>Благодарим Вас за подписку! Ваш промокод на первую покупку: <strong>HELLO5</strong></span>
        <button class="button gradient close_btn">
          <span>продолжить покупки</span>
        </button>
      </div>
    </div>
  </div>
</div>


<script type="module" src="../files/mailing.js.download"></script>

<div class="pp pp__patent-preview" data-pp="patent-preview">
  <div class="pp__bg"></div>
  <div class="pp__content no_bg">
    <div class="pp__close pp__close_bg">
      <div class="close__lane"></div>
      <div class="close__lane"></div>
    </div>

    <div class="popup-content">

      <div class="img" data-patent="hong_kong">
        <img src="../files/1.jpg" alt="">
        <img src="../files/2.jpg" alt="">
        <img src="../files/3.jpg" alt="">
      </div>

      <div class="img" data-patent="canada">
        <img src="../files/1(1).jpg" alt="">
        <img src="../files/2(1).jpg" alt="">
        <img src="../files/3(1).jpg" alt="">
      </div>

      <div class="img" data-patent="japan">
        <img src="../files/1(2).jpg" alt="">
        <img src="../files/2(2).jpg" alt="">
      </div>

      <div class="img" data-patent="skorea">
        <img src="../files/1(3).jpg" alt="">
        <img src="../files/2(3).jpg" alt="">
      </div>

      <div class="img" data-patent="usa">
        <img src="../files/1(4).jpg" alt="">
        <img src="../files/2(4).jpg" alt="">
        <img src="../files/1(5).jpg" alt="">
        <img src="../files/2(5).jpg" alt="">
        <img src="../files/3(2).jpg" alt="">
        <img src="../files/4.jpg" alt="">
        <img src="../files/5.jpg" alt="">
        <img src="../files/6.jpg" alt="">
        <img src="../files/7.jpg" alt="">
        <img src="../files/8.jpg" alt="">
        <img src="../files/9.jpg" alt="">
        <img src="../files/10.jpg" alt="">
        <img src="../files/11.jpg" alt="">
        <img src="../files/12.jpg" alt="">
        <img src="../files/13.jpg" alt="">
      </div>

      <div class="img" data-patent="wipo">
        <img src="../files/1(6).jpg" alt="">
        <img src="../files/2(6).jpg" alt="">
        <img src="../files/1(7).jpg" alt="">
        <img src="../files/2(7).jpg" alt="">
        <img src="../files/3(3).jpg" alt="">
        <img src="../files/4(1).jpg" alt="">
      </div>

      <div class="img" data-patent="new_zealand">
        <img src="../files/1(8).jpg" alt="">
        <img src="../files/2(8).jpg" alt="">
        <img src="../files/3(4).jpg" alt="">
        <img src="../files/4(2).jpg" alt="">
        <img src="../files/5(1).jpg" alt="">
      </div>

      <div class="img" data-patent="australia">
        <img src="../files/1(9).jpg" alt="">
        <img src="../files/2(9).jpg" alt="">
        <img src="../files/3(5).jpg" alt="">
        <img src="../files/4(3).jpg" alt="">
        <img src="../files/5(2).jpg" alt="">
        <img src="../files/6(1).jpg" alt="">
        <img src="../files/1(10).jpg" alt="">
        <img src="../files/2(10).jpg" alt="">
        <img src="../files/3(6).jpg" alt="">
        <img src="../files/4(4).jpg" alt="">
        <img src="../files/5(3).jpg" alt="">
        <img src="../files/6(2).jpg" alt="">
      </div>

    </div>
  </div>
</div>


<div class="somia_form">
  <div class="somia_form-bg"></div>
  <div class="somia_form-block">
    <div class="somia_form-close">
      <div class="close__lane"></div>
      <div class="close__lane"></div>
    </div>

  </div>
</div>

<script src="../files/swiper.min.js"></script>
<script src="../files/video.min.js"></script>
<script src="../files/jquery.validate.min.js"></script>







<!--<script src="../files/messages_ru.min.js"></script>-->
<!--<script src="../files/additional-methods.min.js"></script>-->
<!--<script src="../files/PNotify.js"></script>-->
<!--<script src="../files/suggs.js"></script>-->



<script src="../files/js_main.js"></script>
<!--<script src="../files/_js_checkoutt.js.download"></script>-->


<!--script src="/static/js/customAjaxForm.js"></script-->
<script src="../files/skrollr.min.js"></script>
<script src="../files/aos.js"></script>
<script src="../files/somia-form.js"></script>
<script src="../files/phone-mask.js"></script>


<script src="../files/parts.js"></script>


<script>
  $(document).on('click', '[href="shuber"]', function () {
    return false;
  })
</script>


<script>
  if ($('.pillow-slider').length && $('.slide-product__img_colors').length && $('.slide-product__img_colors [name="options[color]"]').length >= 1) {
    $('.pillow-slider [data-desc]').parent().hide()
    $('.slide-product__img_colors [data-value]').each(function () {
      var val = $(this).data('value');
      $('.pillow-slider [data-desc="' + val + '"]').parent().show();
    })
  }

  $(document).on('click', '[href="purpur"]', function () {
    return false
  })


</script>


<script>
  window.product = {
    "item_name": "",
    "item_id": "",
    "price": "",
    "item_brand": "Beautysleep",
    "item_list_name": "",
    "variant": "",
    "index": 1,
    "quantity": 1,
    "item_category": "",
    "item_category2": ""
  }

  function getValues(form) {
    let product = Object.assign({}, window.product)

    var color = form.find('.slide-product__img_colors input:checked').next().data('color'),
            id = parseInt(form.find('[name="id"]').val()),
            price = parseFloat(form.find('.js-new-price').first().text().replace(/\D/g, "")),
            name = form.find('[name="pagetitle"]').val(),
            category1 = form.find('[name="category1"]').val(),
            category2 = form.find('[name="category2"]').val()

    if (color !== undefined) product.variant = color
    product.item_category = category1
    product.item_category2 = category2
    product.item_name = name
    product.item_id = id
    product.price = price
    return product
  }

  /* Добавление в корзину из карточки + */
  $(document).on('click', '#product-inner [name="ms2_action"], #other-products-in-cart [name="ms2_action"]', function () {
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val())

      addProductToCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })

  /* Добавление на странице add-products-page +*/
  $(document).on('click', '.add-products-page .swiper-slide [value="cart/add"]', function () {
    try {
      var form = $(this).closest('.swiper-slide'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val()),
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.slide-product__img_colors').length)
        product.variant = form.find('.slide-product__img_colors input:checked + label').data('color')

      product.price = price
      addProductToCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })

  /* Добавление в корзину через кнопку плюс + */
  $(document).on('click', '#product-in-side-cart .hand_button.increment', function () {
    try {
      var form = $(this).closest('#product-in-side-cart'),
              product = getValues(form),
              name = form.find('.cart-item__info_title').text(),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.item_name = name
      product.price = price
      addProductToCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })
  /* Добавление в корзину через кнопку плюс в корзине +*/
  $(document).on('click', '#page-cart .hand_button.increment', function () {
    try {
      var form = $(this).closest('.cart-item'),
              product = getValues(form),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price
      addProductToCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })

  /* Удаление товара из корзины через кнопку  +*/
  $(document).on('click', '#product-in-side-cart + .cart-close', function () {
    try {
      var form = $(this).prev(),
              product = getValues(form),
              name = form.find('[name="pagetitle"]').val(),
              count = parseInt(form.find('[name="count"]').val()),
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.item_name = name
      product.price = price
      removeFromCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })
  /* Удаление товара из корзины через кнопку в корзине +*/
  $(document).on('click', '#page-cart .cart-item .cart-close', function () {
    try {
      var form = $(this).closest('.cart-item'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val()),
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price
      removeFromCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })

  /* Удаление товара из корзины через минус +*/
  $(document).on('click', '#product-in-side-cart .hand_button.decrement', function () {
    try {
      var form = $(this).closest('#product-in-side-cart'),
              product = getValues(form),
              name = form.find('.cart-item__info_title').text(),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.item_name = name
      product.price = price
      removeFromCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })
  /* Удаление товара из корзины через минус в корзине +*/
  $(document).on('click', '#page-cart .hand_button.decrement', function () {
    try {
      var form = $(this).closest('.cart-item'),
              product = getValues(form),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price
      removeFromCart(product, count)
    } catch (e) {
      console.log(e)
    }
  })

  /* Клик по товару */
  $(document).on('click', '.goods-grid .slide-product', function () {
    try {
      var form = $(this).closest('.slide-product'),
              product = getValues(form)

      selectItem(product)
    } catch (e) {
      console.log(e)
    }
  })

  /* Клик по цвету */
  $(document).on('click', '#product-inner .slide-product__img_colors label', function () {
    try {
      var form = $(this).closest('#product-inner'),
              product = getValues(form)

      product.variant = $(this).data('color')

      selectItem(product, 'e03')
      viewItem(product)
    } catch (e) {
      console.log(e)
    }
  })

  /* Просмотр корзины */
  if ($('#page-cart').length) {
    try {
      var items = []
      $('#page-cart .cart-item').each(function (i, p) {
        var product = getValues($(this))
        product.variant = $(this).find('.specifications-color span').last().text()
        product.quantity = parseInt($(this).find('[name="count"]').val())
        items.push(product)
      })

      if (items.length) viewCart(items)
    } catch (e) {
      console.log(e)
    }
  }

  /* Просмотр товара */
  if ($('#product-inner input[name="id"]').length) {
    try {
      var form = $('#product-inner'),
              product = getValues(form)

      viewItem(product)

      var items = []
      $('#product-inner .slide-product__img_colors label').each(function (i, e) {

        product = getValues(form)
        product.variant = $(this).data('color')
        items.push(product)
      })
      viewItemList(items)
    } catch (e) {
      console.log(e)
    }
  }

  /* Просмотр товаров в каталоге */
  if ($('#shop-catalog .slide-product').length) {
    viewItemsInCatalog('#shop-catalog .slide-product')
  }

  /* Переход к оформлению заказа */
  if ($('#page-order').length) {
    try {
      var items = []
      $('.js-order-cart .cart-item').each(function (i, e) {
        var form = $(this),
                item = getValues(form)

        if (form.find('.specifications-color span').last() != undefined)
          item.variant = form.find('.specifications-color span').last().text()

        if (form.find('.js-ordercart-count') != undefined)
          item.quantity = parseInt(form.find('.js-ordercart-count').text().replace(/\D/g, ""))

        items.push(item)
      })
      onCheckout(items)
    } catch (e) {
      console.log(e)
    }
  }

  /* Может понравитmся */
  if ($('#product-inner').length) {
    mayLike()
  }

  /* Просмотр формы подписки */
  if ($('.email-mailing').length) {
    footerSubscribeVisit()
  }

  if ($('[name="status_id"]') !== undefined && $('[name="payment_id"]') !== undefined) {
    var status_id = parseInt($('[name="status_id"]').val()),
            payment_id = parseInt($('[name="payment_id"]').val()),
            order_id = $('#orderCart [name="id"]').val(),
            sended = parseInt($('[name="sended"]').val()),
            queryString = window.location.search,
            urlParams = new URLSearchParams(queryString),
            msorder = parseInt(urlParams.get('msorder'))

    if (!sended) {
      switch (true) {
        case status_id == 1 && payment_id == 3:
        case status_id == 2 && [5, 17, 2, 18, 20, 23, 22].indexOf(payment_id) > -1:
          purchase()
          $.get('/update-order?msorder=' + msorder)
          break
        case status_id == 1 && [5, 17, 2, 18, 20, 23, 22].indexOf(payment_id) > -1:
          let itCount = 0;
          const interval = setInterval(() => {
            itCount++;
            $.get('/check-order?msorder=' + order_id, function (resp) {
              if (resp.order_status == 2) {
                purchase()
                $.get('/update-order?msorder=' + msorder)
                clearInterval(interval);
              }
            })
            if (itCount >= 10)
              clearInterval(interval);
          }, 1000);
          break
      }
    }
  }


  /**********************/
  /**********************/
  /**********************/



  /* Клик по товару */
  function selectItem(item, event_id = 'e02', list = 'catalog_main_block') {
    let send = {
      event: 'select_item',
      event_id: event_id,
      ecommerce: {
        items: []
      }
    }

    item.index = 1
    localStorage.setItem('item_list_name', list)

    item.item_list_name = list
    send.ecommerce.items.push(item)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }


  /* Может понравиться */
  function mayLike() {
    var item, id, items = [], sended = false, form
    $('#other-products-in-cart .js-product-box').each(function () {
      form = $(this)
      item = getValues(form)
      item.item_list_name = 'you_might_like'
      items.push(item)
    })


    $('.shopping-cart-card').scroll(function () {
      if (!sended && $('.shopping-cart-card').scrollTop() >= 236) {
        viewItemList(items)
        sended = true
      }
    })
  }

  /* Скрол в каталоге */
  function viewItemsInCatalog(element, list = 'catalog_main_block') {
    let item, items = new Set(), id, itemsviewednow = new Set(), scrolledEl;

    window.lastviewedmaylike = new Set();

    scrolledEl = list === 'with_these_goods_bought' ? '#msCart.active .wrapper' : window


    $(scrolledEl).on('resize scroll', function () {
      items = new Set();
      itemsviewednow = new Set();

      $(element).each(function () {
        if ($(this).offset().top < ($(window).scrollTop() + $(window).height()) && ($(this).offset().top + $(this).height() > $(window).scrollTop())) {
          id = $(this).find('[name="id"]').val()
          itemsviewednow.add(id);
        }
      });

      for (const id of itemsviewednow) {
        if (!window.lastviewedmaylike.has(id)) {
          item = getValues($('[name="id"][value="' + id + '"]').closest('.slide-product'))
          item.item_list_name = list
          items.add(item)
        }
      }

      if (items.size > 0) {
        items = setIndexes([...items])
        viewItemList(items)
      }

      for (const id of itemsviewednow) {
        window.lastviewedmaylike.add(id)
      }
    });
  }

  /* Удаление товара из корзины */
  function removeFromCart(item, quantity = 1) {
    let send = {
      event: "remove_from_cart",
      event_id: 'e05',
      ecommerce: {
        items: []
      }
    }
    item = setIndexes(item)
    item.quantity = parseInt(quantity)
    item.item_list_name = 'catalog_main_block'
    send.ecommerce.items.push(item)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Добавление товара в корзину */
  function addProductToCart(item, count = 1) {
    let send = {
      event: 'add_to_cart',
      event_id: 'e04',
      ecommerce: {
        items: []
      }
    }
    item.quantity = parseInt(count)
    item = setIndexes(item)
    item.item_list_name = 'catalog_main_block'
    send.ecommerce.items.push(item)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Просмотр товара */
  function viewItem(item, item_list_name = 'landing_productpage') {
    let send = {
      event: 'view_item',
      event_id: 'e03',
      ecommerce: {
        items: []
      }
    }
    item = setIndexes(item)
    item.item_list_name = item_list_name

    if (localStorage.getItem('item_list_name') !== null) {
      item.item_list_name = localStorage.getItem('item_list_name')
      localStorage.removeItem('item_list_name')
    }

    send.ecommerce.items.push(item)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Просмотр списка товаров */
  function viewItemList(items) {
    let send = {
      event: 'view_item_list',
      event_id: 'e01',
      ecommerce: {
        items: []
      }
    }
    items = setIndexes(items)
    send.ecommerce.items.push(items)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Просмотр корзины */
  function viewCart(items) {
    let send = {
      event: 'view_cart',
      event_id: 'e06',
      ecommerce: {
        items: []
      }
    }

    items = setIndexes(items)
    send.ecommerce.items = items
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Переход на оформление заказа */
  function onCheckout(items = []) {
    dataLayer.push({ecommerce: null})
    let send = {
      event: "begin_checkout",
      event_id: 'e07',
      ecommerce: {
        items: []
      }
    }

    items = setIndexes(items)
    send.ecommerce.items = items
    dataLayer.push(send)
    console.log(send)
  }

  /* Добавление способа доставки */
  function addShippingInfo(items = [], shipping) {

    let send = {
      event: 'add_shipping_info',
      event_id: 'e08',
      ecommerce: {
        shipping_tier: shipping,
        items: []
      }
    }
    items = setIndexes(items)
    send.ecommerce.items.push(items)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Добавление способа оплаты */
  function addPaymentInfo(items = [], payment) {

    let send = {
      event: 'add_payment_info',
      event_id: 'e09',
      ecommerce: {
        payment_type: payment,
        items: []
      }
    }
    items = setIndexes(items)
    send.ecommerce.items.push(items)
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Оформление заказа */
  function orderCreated() {
    try {
      var items = []
      $('.js-order-cart .cart-item').each(function (i, e) {
        var form = $(this),
                item = getValues(form)

        items.push(item)
      })

      items = setIndexes(items)

      var total = parseFloat($('.result__item.sum span').last().text().replace(' ', ''))
      var delivery = $('[name="delivery"]:checked').parent().find('.checkbox__descr_title span').first().text()
      var payment = $('[name="payment"]:checked').parent().find('.checkbox__descr_title span').first().text()


      var try_order = 1
      if (localStorage.getItem('try_order') != null)
        try_order = localStorage.getItem('try_order')

      var send = {
        event: 'order_created',
        event_id: 'e10',
        shipping_tier: delivery,
        payment_type: payment,
        order_id: 'unknown',
        value: total,
        try_number_to_order: try_order + '_try'
      }
      dataLayer.push({ecommerce: null})
      dataLayer.push(send)
      console.log(send)
    } catch (e) {
      console.log(e)
    }
  }

  /* Страница спасибо */
  function purchase() {
    if (typeof dataLayer === 'undefined') return

    var items = []
    $('#orderCart .products .product').each(function (i, p) {
      var id = $(p).find('[name="id"]').val(),
              product = getValues($(p)),
              price = parseInt($(p).find('[name="price"]').val().replace(' ', '')),
              count = parseInt($(p).find('[name="count"]').val()),
              color = $(p).find('[name="color"]').val(),
              name = $(p).find('[name="name"]').val()

      if (isNaN(count)) count = 1
      product.quantity = count
      product.item_name = name
      product.variant = color
      product.price = price
      items.push(product)
    })

    const shipping_price = parseFloat($('#orderCart [name="delivery_cost"]').val())
    const total = parseFloat($('#orderCart [name="cost"]').val())
    const transaction_id = $('#orderCart [name="num"]').val()
    const coupon = $('#orderCart [name="coupon"]').val()
    const discount = $('#orderCart [name="discount"]').val() != '' ? parseFloat($('#orderCart [name="discount"]').val()) : ''
    const delivery = $('#orderCart [name="delivery"]').val()
    const payment = $('#orderCart [name="payment"]').val()

    //addShippingInfo(items, delivery)
    //addPaymentInfo(items, payment)
    localStorage.removeItem('try_order')

    let send = {
      event: 'purchase',
      event_id: 'e11',
      shipping_tier: delivery,
      payment_type: payment,
      ecommerce: {
        transaction_id: transaction_id,
        affiliation: 'beautysleep.ru',
        value: total,
        tax: '20%',
        shipping: shipping_price,
        currency: 'RUB',
        coupon: coupon,
        discount: discount,
        items: []
      }
    }

    items = setIndexes(items)
    send.ecommerce.items = items
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  /* Ошибки в форме заказа */
  function checkoutErrors(errors) {
    let try_order = 1
    if (localStorage.getItem('try_order') === null) {
      localStorage.setItem('try_order', try_order)
    } else {
      try_order = parseInt(localStorage.getItem('try_order'))
      try_order++
      localStorage.setItem('try_order', try_order)
    }

    let send = {
      event: 'errors_in_chekout_form',
      event_id: 'e30',
      error_field_order: errors,
      try_number_to_order: try_order + '_try'
    }
    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  function showSubscribeModal() {
    let title = $('#subscribe h2').text(), send = {}

    send = {
      event: 'generate_lead_view',
      event_id: 'e33',
      lead_type: 'form_for_subscribe',
      location: 'pop_up_first_visit_after20sec',
    }

    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)

    setTimeout(() => {
      send = {
        event: 'view_promotion',
        event_id: 'e31',
        ecommerce: {
          promotion_name: 'discount_for_subscribe',
          creative_slot: 'pop_up_first_visit',
          creative_name: title,
        }
      }
      dataLayer.push({ecommerce: null})
      dataLayer.push(send)
      console.log(send)
    }, 1000)
  }

  function subscribeSubmit() {
    let title = $('#subscribe h2').text()

    let send = {
      event: 'select_promotion',
      event_id: 'e32',
      ecommerce: {
        promotion_name: 'discount_for_subscribe',
        creative_slot: 'popup_subscribe_first_visit',
        creative_name: title
      }
    }

    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  function footerSubscribeSubmit() {
    let send = {
      event: 'generate_lead',
      event_id: 'e34',
      lead_type: 'form_for_subscribe',
      location: 'pop_up_first_visit_after20sec',
    }

    dataLayer.push({ecommerce: null})
    dataLayer.push(send)
    console.log(send)
  }

  function footerSubscribeVisit() {
    let send = {
      event: 'generate_lead',
      event_id: 'e34',
      lead_type: 'form_for_subscribe',
      location: 'pop_up_first_visit_after20sec',
    }

    window.pop_up_first_visit_after20sec = false

    $(window).on('resize scroll', function () {
      $('.email-mailing').each(function () {
        if ($('.email-mailing').isInViewport() && window.pop_up_first_visit_after20sec === false) {
          dataLayer.push({ecommerce: null})
          dataLayer.push(send)
          console.log(send)

          window.pop_up_first_visit_after20sec = true
        }
      })
    });
  }

  function generateLeadView() {
    let send = {
      event: 'generate_lead_view',
      event_id: 'e33',
      lead_type: 'form_for_subscribe',
      location: 'pop_up_first_visit_after20sec',
    }

  }

  function setIndexes(items) {
    let new_idx = 1
    if (Array.isArray(items)) {
      items.forEach((item, idx) => {
        items[idx].index = new_idx
        new_idx += 1
      })
    } else {
      items.index = 1
    }
    return items
  }

  $(document).on('af_complete', function (e, r) {
    const form = r.form.attr('id')
    if (form === 'subscribe') {
      subscribeSubmit()
    }
    if (form === 'subscribe-foot') {
      footerSubscribeSubmit()
    }
  })

  $(document).ready(function () {
    miniShop2.Callbacks.add('Order.submit.response.error', 'orders_submit_error', function (response) {
      checkoutErrors(response.data.join(';'))
    });

    miniShop2.Callbacks.add('Order.submit.response.success', 'orders_submit_success', function (response) {
      orderCreated();
      posthog.capture('sent_order', {
        block_name: "Оформление заказа",
        page_name: "Copper"
      })
    });


  })


  $.fn.isInViewport = function () {
    var elementTop = $(this).offset().top;
    var elementBottom = elementTop + $(this).outerHeight();
    var viewportTop = $(window).scrollTop();
    var viewportBottom = viewportTop + $(window).height();
    return elementBottom > viewportTop && elementTop < viewportBottom;
  };


  /* POSTHOG */


  /* Добавление в корзину из карточки */
  $(document).on('click', '#product-inner [name="ms2_action"]', function () {
    console.log("click");
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val());
      console.log(product);
      posthog.capture('cart_add', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Страница товара"
      });
      console.log("posthog страница товара cart_add");
    } catch (e) {
      console.log(e)
    }
  })


  $(document).on('click', '#product-inner .hand_button.increment', function () {
    try {
      var form = $(this).closest('#product-inner'),
              product = getValues(form),
              name = form.find('.cart-item__info_title').text(),
              count = parseInt(form.find('[name="count"]').val());

      console.log('product_change_plus');
      console.log(product);
      posthog.capture('product_change_plus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Страница товара"
      })
    } catch (e) {
      console.log(e)
    }
  })

  $(document).on('click', '#product-inner .hand_button.decrement', function () {
    try {
      var form = $(this).closest('#product-inner'),
              product = getValues(form),
              name = form.find('.cart-item__info_title').text(),
              count = parseInt(form.find('[name="count"]').val());

      console.log('product_change_minus');
      console.log(product);
      posthog.capture('product_change_minus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Страница товара"
      })
    } catch (e) {
      console.log(e)
    }
  })


  /* Клик по цвету */
  $(document).on('click', '#product-inner .slide-product__img_colors label', function () {
    try {
      var form = $(this).closest('#product-inner'),
              product = getValues(form)

      product.variant = $(this).data('color');

      console.log('product_change_color');
      console.log(product);
      posthog.capture('product_change_color', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_price: product.price,
        roduct_variant: product.variant,
        block_name: "Страница товара"
      });
    } catch (e) {
      console.log(e)
    }
  })

  /* Клик по размеру  */
  $(document).on('click', '#product-inner .single-product-hints__size label', function () {
    try {
      var form = $(this).closest('#product-inner'),
              product = getValues(form)

      product.variant = $(this).data('size');

      console.log('product_change_size');
      console.log(product);
      posthog.capture('product_change_size', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_price: product.price,
        roduct_variant: product.variant,
        block_name: "Страница товара"
      });
    } catch (e) {
      console.log(e)
    }
  })


  /* Добавление в корзину из Миникорзины */
  $(document).on('click', '#other-products-in-cart [name="ms2_action"]', function () {
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val());

      posthog.capture('minicart_additional_products_add', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Миникорзина. Дополнительные товары"
      })
      console.log("posthog Миникорзина. Дополнительные товары minicart_additional_products_add");
    } catch (e) {
      console.log(e)
    }
  })

  $(document).on('click', '#other-products-in-cart .slide-product__img_colors label', function () {
    try {
      var form = $(this).closest('#other-products-in-cart'),
              product = getValues(form)

      product.variant = $(this).data('color');

      console.log('minicart_additional_products_color');
      console.log(product);
      posthog.capture('minicart_additional_products_color', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_price: product.price,
        roduct_variant: product.variant,
        block_name: "Миникорзина. Дополнительные товары"
      });
    } catch (e) {
      console.log(e)
    }
  })

  $(document).on('click', '#other-products-in-cart .single-product-hints__size label', function () {
    try {
      var form = $(this).closest('#other-products-in-cart'),
              product = getValues(form)

      product.variant = $(this).data('size');

      console.log('minicart_additional_products_size');
      console.log(product);
      posthog.capture('minicart_additional_products_size', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_price: product.price,
        roduct_variant: product.variant,
        block_name: "Миникорзина. Дополнительные товары"
      });
    } catch (e) {
      console.log(e)
    }
  })


  $(document).on('click', '#other-products-in-cart .hand_button.increment', function () {
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = 1;

      console.log("minicart_additional_products_plus");
      console.log(product);
      posthog.capture('minicart_additional_products_plus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Миникорзина. Дополнительные товары"
      })

    } catch (e) {
      console.log(e)
    }
  })

  $(document).on('click', '#other-products-in-cart .hand_button.decrement', function () {
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = 1;

      console.log("minicart_additional_products_minus");
      console.log(product);
      posthog.capture('minicart_additional_products_minus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Миникорзина. Дополнительные товары"
      })

    } catch (e) {
      console.log(e)
    }
  })


  /* дополнительные товары  single-product-section__other-products posthog_view_block  */

  $(document).on('click', '.single-product-section__other-products .slide-product__information .hand_button.decrement', function () {
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = 1;

      console.log("additional_products_minus");
      console.log(product);
      posthog.capture('additional_products_minus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Дополнительные товары"
      })

    } catch (e) {
      console.log(e)
    }
  })

  $(document).on('click', '.single-product-section__other-products .slide-product__information .hand_button.increment', function () {
    try {
      var form = $(this).closest('form'),
              product = getValues(form),
              count = 1;

      console.log("additional_products_plus");
      console.log(product);
      posthog.capture('additional_products_plus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: product.price,
        product_count: count,
        block_name: "Дополнительные товары"
      })

    } catch (e) {
      console.log(e)
    }
  })


  /* Добавление на странице add-products-page */
  $(document).on('click', '.add-products-page .swiper-slide [value="cart/add"]', function () {
    try {
      var form = $(this).closest('.swiper-slide'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val()),
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.slide-product__img_colors').length)
        product.variant = form.find('.slide-product__img_colors input:checked + label').data('color')

      product.price = price;
      console.log('additional_products_add');
      console.log(product);
      posthog.capture('additional_products_add', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Дополнительные товары"
      })
    } catch (e) {
      console.log(e)
    }
  })

  $(document).on('click', '.add-products-page .swiper-slide .slide-product__img_colors label', function () {
    try {
      var form = $(this).closest('.slide-product__information'),
              product = getValues(form)

      product.variant = $(this).data('color');

      console.log('additional_products_color');
      console.log(product);
      posthog.capture('additional_products_color', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_price: product.price,
        roduct_variant: product.variant,
        block_name: "Дополнительные товары"
      });
    } catch (e) {
      console.log(e)
    }
  })


  $(document).on('click', '.add-products-page .swiper-slide .single-product-hints__size label', function () {
    try {
      var form = $(this).closest('.slide-product__information'),
              product = getValues(form)

      product.variant = $(this).data('size');

      console.log('additional_products_size');
      console.log(product);
      posthog.capture('additional_products_size', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: product.item_name,
        product_price: product.price,
        roduct_variant: product.variant,
        block_name: "Дополнительные товары"
      });
    } catch (e) {
      console.log(e)
    }
  })


  /* Добавление в миникорзину через кнопку плюс */
  $(document).on('click', '#product-in-side-cart .hand_button.increment', function () {
    try {
      var form = $(this).closest('#product-in-side-cart'),
              product = getValues(form),
              name = form.find('.cart-item__info_title').text(),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price;
      console.log('minicart_cart_product_plus');
      console.log(product);
      posthog.capture('minicart_cart_product_plus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Товары в миникорзине"
      })
    } catch (e) {
      console.log(e)
    }
  })


  /* Удаление товара из миникорзины через минус */
  $(document).on('click', '#product-in-side-cart .hand_button.decrement', function () {
    try {
      var form = $(this).closest('#product-in-side-cart'),
              product = getValues(form),
              name = form.find('.cart-item__info_title').text(),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price;
      console.log('minicart_cart_product_minus');
      console.log(product);
      posthog.capture('minicart_cart_product_minus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Товары в миникорзине"
      })
    } catch (e) {
      console.log(e)
    }
  })


  /* Удаление товара из корзины через кнопку */
  $(document).on('click', '#product-in-side-cart + .cart-close', function () {
    try {
      var form = $(this).prev(),
              product = getValues(form),
              name = form.find('[name="pagetitle"]').val(),
              count = parseInt(form.find('[name="count"]').val()),
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price;
      console.log('minicart_cart_product_delete');
      console.log(product);
      posthog.capture('minicart_cart_product_delete', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Товары в миникорзине"
      })
    } catch (e) {
      console.log(e)
    }
  })


  /* Добавление в корзину через кнопку плюс в корзине */
  $(document).on('click', '#page-cart .hand_button.increment', function () {
    try {
      var form = $(this).closest('.cart-item'),
              product = getValues(form),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price;
      console.log('cart_product_plus');
      console.log(product);
      posthog.capture('cart_product_plus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Корзина"
      })
    } catch (e) {
      console.log(e)
    }
  })

  /* Удаление товара из корзины через минус в корзине */
  $(document).on('click', '#page-cart .hand_button.decrement', function () {
    try {
      var form = $(this).closest('.cart-item'),
              product = getValues(form),
              count = 1,
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price;
      console.log('cart_product_minus');
      console.log(product);
      posthog.capture('cart_product_minus', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Корзина"
      })
    } catch (e) {
      console.log(e)
    }
  })


  /* Удаление товара из корзины через кнопку в корзине */
  $(document).on('click', '#page-cart .cart-item .cart-close', function () {
    try {
      var form = $(this).closest('.cart-item'),
              product = getValues(form),
              count = parseInt(form.find('[name="count"]').val()),
              price = parseFloat(form.find('[name="price"]').val().replace(' ', ''))

      if (form.find('.specifications-color span').last() != undefined)
        product.variant = form.find('.specifications-color span').last().text()

      product.price = price;
      console.log('cart_product_delete');
      console.log(product);
      posthog.capture('cart_product_delete', {
        page_name: "Copper",
        product_id: product.item_id,
        product_name: name,
        product_variant: product.variant,
        product_price: price,
        product_count: count,
        block_name: "Корзина"
      })
    } catch (e) {
      console.log(e)
    }
  })


  $(document).on("focusout", "form input[name='coupon_value']", function () {
    console.log("Промокод конец" + $(this).val());
    posthog.capture('cart_promo_end', {
      block_name: "Промокод",
      promo: $(this).val(),
      page_name: "Copper",
    })
  }).on("focus", "form input[name='coupon_value']", function () {
    console.log("Промокод старт");
    posthog.capture('cart_promo_start', {
      block_name: "Промокод",
      page_name: "Copper",
    })
  })


  $(document).on('click', '.js-check-coupon button[type="submit"]', function () {
    try {
      if ($("input[name='coupon_value']").val() !== "") {
        console.log('cart_promo_send');
        posthog.capture('cart_promo_send', {
          block_name: "Промокод",
          promo: $("input[name='coupon_value']").val(),
          error: $(".js-promocode-error.error_promocode").text(),
          page_name: "Copper",
        })
      }
    } catch (e) {
      console.log(e)
    }
  })


  $(".btn-play-video").click(function () {
    posthog.capture('click_video_index', {
      video_name: "Как работает BeautySleep"
    })

  })

  $(".header-common a.interaction__phone").click(function () {
    posthog.capture('click_phone_header', {
      event_name: "Клик по номеру телефона"
    })
  })

  $("a.whats-app").click(function () {
    posthog.capture('whatsapp_click', {
      event_name: "Клик по whatsapp"
    })
  })


  /*var target = $( ".pp__mailing" )[0];
    observer.observe(target, config);
    var target = $( ".pp__mailing" )[2];
    observer.observe(target, config);
     var target = $( ".pp__video-review" )[0];
    observer.observe(target, config);*/


</script>

<style>
  .header-info .swiper-slide {
    background: none !important;
  }
</style>

<script>
  $(window).resize(function () {
    addMarginToSwiper();
  })
  addMarginToSwiper();

  function addMarginToSwiper() {
    var h = $('.general-section img').outerHeight();
    $('.curtain-container.index').css({'margin-top': h})
  }
</script>

<script src="../files/beautysleep.js"></script>
<script src="../files/bs_default.js"></script>
<script src="../files/jquery.jgrowl.min.js"></script>
<!--<script src="../files/message_settings.js"></script>-->
<!--<script type="module" src="../files/sendit.js"></script>-->

<!--<script type="module" src="../files/sendsay.js.download"></script>-->
<!--<script src="../files/customAjaxForm.js"></script>-->


<div class="SmartCaptcha-Overlay SmartCaptcha-Overlay_show_spinner" data-testid="advanced-container" tabindex="-1"
     style="--smart-captcha-doc-height: 918px; --smart-captcha-doc-width: 1598px;">
  <div class="SmartCaptcha-Spin"></div>
</div>
<div class="SmartCaptcha-Overlay SmartCaptcha-Overlay_show_spinner" data-testid="advanced-container" tabindex="-1"
     style="--smart-captcha-doc-height: 918px; --smart-captcha-doc-width: 1598px;">
  <div class="SmartCaptcha-Spin"></div>
</div>
<script type="text/javascript" async="" src="../files/dyn-goal-config.js"></script>
<script src="../files/iziToast.min.js"></script>
</body>

</html>